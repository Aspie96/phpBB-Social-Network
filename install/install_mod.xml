<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<?xml-stylesheet type="text/xsl" href="modx.prosilver.en.xsl"?>
<!--NOTICE: Please open this file in your web browser. If presented with a security warning, you may safely tell it to allow the blocked content.-->
<!--For security purposes, please check: http://www.phpbb.com/mods/ for the latest version of this MOD.\nAlthough MODs are checked before being allowed in the MODs Database there is no guarantee that there are no security problems within the MOD.\nNo support will be given for MODs not found within the MODs Database which can be found at http://www.phpbb.com/mods/-->
<mod xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.phpbb.com/mods/xml/modx-1.2.5.xsd">
	<header>
		<license><![CDATA[http://opensource.org/licenses/gpl-license.php GNU General Public License v2]]></license>
		<title lang="en"><![CDATA[phpBB Social Network]]></title>
		<description lang="en"><![CDATA[The phpBB3 Social Network is modification for phpBB3 boards, which turns your board to full valued social network software. This modification is modular based, it means admin can switch on/off each module. phpBB3 Social Network will create your own small "Facebook" page with all main features of social network such as : extended profiles with all informations about person, personal galleries, user statuses with comments, Friends approval system with friendlist, main page looking like facebook main page, private Instant messenger, creating events and inviting others, writing own blogs, notifications about your friends activities, "sharing" and "likeing" and even more.

The phpBB3 Social Network 0.6.2 includes these modules:
1. Extended User Profiles - includes Wall (statuses), personal information, list of friends and family, user statistics and much more
2. User status / Wall - adds Wall to the profile of all users. Users can add their own statuses and others can comment them
3. Instant Messenger - adds private chat similar to Facebook chat with many features
4. Friends Management System - adds management system for friends. Users can send the request if they want to add a friend, then the request has to be approved by the other side
5. Friends Groups - possibility to create groups of friends. In next versions users will be able to add some special permissions to these groups
6. Main Page - the page similar to Facebook main page. It means it collects new updates about statuses, comments, friendships, profil updates etc. from all your friends
7. Notifications - displays a pop-up bubble with notification about new commentes or request / confirm friendships]]></description>
		<author-notes lang="en"><![CDATA[Feel free to ask for support or more features here http://socialnetwork.phpbb3hacks.com/]]></author-notes>
		<author-group>
			<author>
				<username phpbbcom="no"><![CDATA[Kamahl19]]></username>
				<homepage><![CDATA[http://www.phpbb3hacks.com/]]></homepage>
				<contributions-group>
					<contributions status="current" from="2010-02-01" position="Developer"/>
				</contributions-group>
			</author>
			<author>
				<realname><![CDATA[Jan Kalach]]></realname>
				<username phpbbcom="no"><![CDATA[Culprit]]></username>
				<homepage><![CDATA[http://socialnetwork.phpbb3hacks.com/]]></homepage>
				<contributions-group>
					<contributions status="current" from="2010-06-01" position="Developer"/>
				</contributions-group>
			</author>
		</author-group>
		<mod-version>0.6.3.a2</mod-version>
		<installation>
			<level>easy</level>
			<time>300</time>
			<target-version>3.0.10</target-version>
		</installation>
		<history>
			<entry>
				<date>2011-02-03</date>
				<rev-version>0.5.0</rev-version>
				<changelog lang="en">
					<change><![CDATA[Initial release - it includes these modules: private instant messenger, user wall with statuses and comments, mainpage looking like Facebook mainpage, Friends approval system with friendlist.]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2011-02-22</date>
				<rev-version>0.5.1</rev-version>
				<changelog lang="en">
					<change><![CDATA[Option to log in / log out from Instant Messenger]]></change>
					<change><![CDATA[Lower load for IM]]></change>
					<change><![CDATA[Option to swith on/off sound via IM online list]]></change>
					<change><![CDATA[Option to chat with all members of the board, not only friends]]></change>
					<change><![CDATA[Corected English language]]></change>
					<change><![CDATA[Changed look of Friendlist and Friends management]]></change>
					<change><![CDATA[Added "Add as a friend" to the block People you may know on Mainpage]]></change>
					<change><![CDATA[Option in ACP to hide notices about new friendships from Mainpage]]></change>
					<change><![CDATA[Notification bout new message in the name of page if you have opened another aplication or page]]></change>
					<change><![CDATA[Canceled mainpage header, now we use original overall_header.html for Mainpage]]></change>
					<change><![CDATA[Fixed problem with allowing Friends approval system via ACP]]></change>
					<change><![CDATA[Fixed sound after receiving a message]]></change>
					<change><![CDATA[Fixed bug with nicknames]]></change>
					<change><![CDATA[Renamed jquery cookies plugin due to incompatibility with some servers]]></change>
					<change><![CDATA[Fixed missing language variables for Confirm Box]]></change>
					<change><![CDATA[Fixed problem with seting max number of recent discussions]]></change>
					<change><![CDATA[Fixed bug with smilies]]></change>
					<change><![CDATA[Fixed bug installation script]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2011-03-17</date>
				<rev-version>0.5.2</rev-version>
				<changelog lang="en">
					<change><![CDATA[Improved DB loading time]]></change>
					<change><![CDATA[Added pagination to Friend list in user profile]]></change>
					<change><![CDATA[Fixed copyright]]></change>
					<change><![CDATA[Fixed CSS - IM overwrites page footer]]></change>
					<change><![CDATA[Adding friends is more simple]]></change>
					<change><![CDATA[Purging IM history]]></change>
					<change><![CDATA[Purging IM Chatboxes]]></change>
					<change><![CDATA[Added View chat history]]></change>
					<change><![CDATA[Added link to profile in chat window]]></change>
					<change><![CDATA[Added image to see your IM status online/offline]]></change>
					<change><![CDATA[Fixed loading MP online list]]></change>
					<change><![CDATA[Allow to user change sound of incoming messages via UCP]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2011-05-11</date>
				<rev-version>0.6.0</rev-version>
				<changelog lang="en">
					<change><![CDATA[IM: When the page loads scrollDown ChatBox]]></change>
					<change><![CDATA[MP:: Board index the url wrong (viewtopic.php?f=21&t=298)]]></change>
					<change><![CDATA[MP:: Online Sheet does not open chat window when you're offline.]]></change>
					<change><![CDATA[SN: Who is online again shows who's where]]></change>
					<change><![CDATA[SN: Improved display of avatars (Windows), the path "\/"]]></change>
					<change><![CDATA[SN: Repair check reveals new version of the SN module]]></change>
					<change><![CDATA[FAS: It is already the request and attempt another request. General Error (viewtopic.php?f=21&t=364)]]></change>
					<change><![CDATA[IM:: View Avatar when the page loads, if you are not a standard forum page as UCP, SEARCH, ETC.]]></change>
					<change><![CDATA[SO, IM:: Closing the button status when entering the online list and clicking the status (tracker.php?p=4&t=93)]]></change>
					<change><![CDATA[IM: hidden users'forum (Friends not appearing in chat box?)]]></change>
					<change><![CDATA[SN: Loading module SN, Loading News ...]]></change>
					<change><![CDATA[ADD: Notify module]]></change>
					<change><![CDATA[US: By fetch page description can be changed by user]]></change>
					<change><![CDATA[MP: Logged out -> Board link corrected]]></change>
					<change><![CDATA[IM: FIX: Delivering offline message]]></change>
					<change><![CDATA[IM: Automatic messages delete option]]></change>
					<change><![CDATA[US: Friends can share on friend wall - Notify added]]></change>
					<change><![CDATA[NTF: Link fixed by posting notify to commment to friends wall]]></change>
					<change><![CDATA[US: Friends can share on friend wall]]></change>
					<change><![CDATA[US,MP: Fetch button - URL placed using mouse]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2011-11-07</date>
				<rev-version>0.6.1</rev-version>
				<changelog lang="en">
					<change><![CDATA[[FEATURE] new user profiles]]></change>
					<change><![CDATA[[FEATURE] added many profile fields for information about user to UCP]]></change>
					<change><![CDATA[[FEATURE] possibility to add users as family members or relationship partners]]></change>
					<change><![CDATA[[FEATURE] possibility to create groups from your friends]]></change>
					<change><![CDATA[[FEATURE] reporting users]]></change>
					<change><![CDATA[[FEATURE] possibility to switch on / off all blocks on Mainpage via ACP]]></change>
					<change><![CDATA[[FEATURE] fully cutomizable menu via ACP for Mainpage]]></change>
					<change><![CDATA[[FEATURE] display all profile changes and other friend's activity on Mainpage]]></change>
					<change><![CDATA[[FEATURE] switch on/off coloured usernames on Wall and Mainpage via ACP]]></change>
					<change><![CDATA[[FEATURE] display all People you may know on mainpage]]></change>
					<change><![CDATA[[FEATURE] display mutual friends in user profile]]></change>
					<change><![CDATA[[FEATURE] export Instane Messenger history to .txt file]]></change>
					<change><![CDATA[[FEATURE] hide Mainpage for guest via ACP]]></change>
					<change><![CDATA[[FEATURE] administrator will receive a PM after releasing the new version of Social Network MOD]]></change>
					<change><![CDATA[[FEATURE] purging statuses, comments and friends via ACP]]></change>
					<change><![CDATA[[CHANGE] improved notifications - added profile image, user profile link]]></change>
					<change><![CDATA[[CHANGE] sort friends in Online list according to your Friends groups]]></change>
					<change><![CDATA[[CHANGE] loading friends with ajax]]></change>
					<change><![CDATA[[CHANGE] improved and faster instant messenger]]></change>
					<change><![CDATA[[CHANGE] removed adding the status via notifications page]]></change>
					<change><![CDATA[[CHANGE] improved instructions how to set mainpage.php as a index page via ACP]]></change>
					<change><![CDATA[[CHANGE] improved fetching urls on Wall]]></change>
					<change><![CDATA[[CHANGE] improved checking the newest version of Social Network MOD]]></change>
					<change><![CDATA[[FIX] optimized for phpbb 3.0.9]]></change>
					<change><![CDATA[[FIX] renamed table indexes]]></change>
					<change><![CDATA[[FIX] Instant messenger optimized for mobile devices]]></change>
					<change><![CDATA[[FIX] dont display mutual friends twice]]></change>
					<change><![CDATA[[FIX] corrected languages in notifications]]></change>
					<change><![CDATA[[FIX] online list optimized for RTL languages]]></change>
					<change><![CDATA[[FIX] disable buttons in Friends management when no user selected]]></change>
					<change><![CDATA[[FIX] dont display Mainpage if board is disabled]]></change>
					<change><![CDATA[[FIX] count number of days to birthday correctly]]></change>
					<change><![CDATA[[FIX] center narrow profile images on Wall and Mainpage]]></change>
					<change><![CDATA[[FIX] added languages for log in ACP]]></change>
					<change><![CDATA[[FIX] changed font size to be the same on all pages]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2011-12-28</date>
				<rev-version>0.6.2</rev-version>
				<changelog lang="en">
					<change><![CDATA[[FIX] js error on profile]]></change>
					<change><![CDATA[[FIX] duplicate entries after Load new]]></change>
					<change><![CDATA[[FIX] birthday date bug]]></change>
					<change><![CDATA[[FIX] improved IM css]]></change>
					<change><![CDATA[[FIX] html bugs]]></change>
					<change><![CDATA[[FIX] fixed bugs in People you may know block]]></change>
					<change><![CDATA[[FIX] fixed bugs in Birthday block]]></change>
					<change><![CDATA[[FIX] fixed bugs in fetching]]></change>
					<change><![CDATA[[FIX] fixed bug with unicode characters]]></change>
					<change><![CDATA[[FIX] improved loging in via Mainpage]]></change>
					<change><![CDATA[[FIX] colourde username in My profile block]]></change>
					<change><![CDATA[[FIX] added css for RTL]]></change>
					<change><![CDATA[[FIX] fixed captcha on Mainpage]]></change>
					<change><![CDATA[[FIX] missing langiage variable No friends]]></change>
					<change><![CDATA[[CHANGE] added wall_id parameter to function post_status()]]></change>
					<change><![CDATA[[FEATURE] editing personal information via user profile]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-02-06</date>
				<rev-version>0.6.3.a1</rev-version>
				<changelog lang="en">
					<change><![CDATA[[CHANGE] Reworked JS into its own namespace]]></change>
					<change><![CDATA[[CHANGE] Reworked CSS into its own namespace]]></change>
					<change><![CDATA[[CHANGE] Reworked HTML for CSS]]></change>
					<change><![CDATA[[FIX] almost known bugs]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-03-16</date>
				<rev-version>0.6.3.a2</rev-version>
				<changelog lang="en">
					<change><![CDATA[[CHANGE] +3 Oddělení výkonného CSS a JS + úpravy JS Social Network, JavaScript, Profile, Userstatus, Notification, wall, Mainpage, Instant Messenger, Approval]]></change>
					<change><![CDATA[+3 Uprava CSS a HTML Social Network]]></change>
					<change><![CDATA[+3 Comment system Social Network]]></change>
					<change><![CDATA[+3 Core functions Social Network]]></change>
					<change><![CDATA[+3 im history im]]></change>
					<change><![CDATA[+3 implementovat SN hooks acp]]></change>
					<change><![CDATA[+3 Schvalovani vztahu v UCP Profile, Social Network]]></change>
					<change><![CDATA[+3 Přepracování mechanismu vyzvedávání zpráv tak aby zprávy byly správně načteny pro všechny otevřené taby prohlížeče Instant Messenger]]></change>
					<change><![CDATA[+2 chybajuce notify]]></change>
					<change><![CDATA[+2 search box je rozbity mainpage]]></change>
					<change><![CDATA[+1 uprava IM vzhladu Instant Messenger]]></change>
					<change><![CDATA[+1 Univerzalni funkce NTF & COMMENT Social Network, Notification]]></change>
					<change><![CDATA[+1 zrusit trigger_error v approval Approval]]></change>
					<change><![CDATA[±0 Language file - SN_UP_TABS_SPINNER]]></change>
					<change><![CDATA[±0 JS error]]></change>
					<change><![CDATA[±0 editing personal information via user profile]]></change>
					<change><![CDATA[±0 xml]]></change>
					<change><![CDATA[±0 video bug]]></change>
					<change><![CDATA[±0 button approve and cancel]]></change>
					<change><![CDATA[±0 lang mistake]]></change>
					<change><![CDATA[±0 Bug in function post_status()]]></change>
					<change><![CDATA[±0 MP - prerobit vyzvedani sprav z ID na time]]></change>
					<change><![CDATA[±0 resize:none pre statusy, komenty a im]]></change>
					<change><![CDATA[±0 odstranit zbytocne confirm_boxy]]></change>
					<change><![CDATA[±0 zmenit url nan ovu]]></change>
					<change><![CDATA[±0 ak non friend postne na wall frienda, nemozem komentovat]]></change>
					<change><![CDATA[±0 IM vyzvedavani zprav podle casu ne podle recvd]]></change>
					<change><![CDATA[±0 editable Profile]]></change>
					<change><![CDATA[±0 IM.sent column => double Instant Messenger]]></change>
					<change><![CDATA[±0 doplnit motionpictures do ACP, aby na kazdej stranke bola acp]]></change>
					<change><![CDATA[±0 zmenit wall na nieco ine profile]]></change>
					<change><![CDATA[±0 upravit hlavicky suborov - vysvetlenie]]></change>
					<change><![CDATA[±0 new icons]]></change>
					<change><![CDATA[±0 Autocompletion for search Mainpage]]></change>
					<change><![CDATA[±0 improve notifications ntf]]></change>
					<change><![CDATA[±0 Sjednocení, typů obrázků. Nějaké rozumné nazvosloví pro obrázky. Social Network]]></change>
					<change><![CDATA[±0 Pevne sirky krajnich sloupcu Profile, Mainpage, Social Network]]></change>
					<change><![CDATA[±0 Nastaveni minimalnich popripade maximalnich hodnot pro ACP a jednotlive moduly ACP, Social Network, Profile, Instant ]]></change>
				</changelog>
			</entry>
		</history>
	</header>
	<action-group>
		<copy>
			<file from="root/*.*" to="*.*"/>
		</copy>
		<open src="search.php">
			<edit>
				<find><![CDATA[$zebra[($row['friend']) ? 'friend' : 'foe'][] = $row['zebra_id'];]]></find>
				<action type="replace-with"><![CDATA[$zebra[($row['foe']) ? 'foe' : 'friend'][] = $row['zebra_id'];]]></action>
			</edit>
		</open>
		<open src="viewonline.php">
			<edit>
				<find><![CDATA[			$location = $user->lang['VIEWING_MCP'];
			$location_url = append_sid("{$phpbb_root_path}index.$phpEx");
		break;]]></find>
				<action type="after-add"><![CDATA[		case 'mainpage':
			$location = isset($user->lang['SN_MP_VIEWING_MAINPAGE']) ? $user->lang['SN_MP_VIEWING_MAINPAGE'] : 'Viewing Mainpage';
			$location_url = append_sid("{$phpbb_root_path}mainpage.$phpEx");
		break;]]></action>
			</edit>
		</open>
		<open src="styles/prosilver/template/memberlist_view.html">
			<edit>
				<find><![CDATA[</form>]]></find>
				<action type="after-add"><![CDATA[<!-- IF SN_MODULE_APPROVAL_ENABLED && SN_FMS_BLOCK_FRIEND_IS_NOT_EMPTY -->
<div class="panel bg1">
	<div class="inner"><span class="corners-top"><span></span></span>
		<h3>{L_SN_FAS_FRIEND_LIST}</h3>
    {SN_FMS_BLOCK_FRIEND_CONTENT}<div class="clear"></div>			
    {SN_FMS_BLOCK_FRIEND_PAGINATION_STRING}<div class="clear"></div>
	<span class="corners-bottom"><span></span></span></div>
</div>
<!-- ENDIF -->
<!-- IF SN_MODULE_USERSTATUS_ENABLED && SN_MODULE_USERSTATUS_VIEWPROFILE_ENABLE -->      
  <!-- INCLUDE socialnet/userstatus_memberlist.html -->
<!-- ENDIF -->]]></action>
			</edit>
		</open>
		<open src="styles/prosilver/template/overall_footer.html">
			<edit>
				<find><![CDATA[	<!-- IF not S_IS_BOT -->{RUN_CRON_TASK}<!-- ENDIF -->
</div>]]></find>
				<action type="after-add"><![CDATA[<!-- IF SN_MODULE_IM_ENABLED -->
    <!-- INCLUDE socialnet/im.html -->
<!-- ENDIF -->]]></action>
			</edit>
		</open>
		<open src="styles/prosilver/template/overall_header.html">
			<edit>
				<find><![CDATA[<link href="{T_THEME_PATH}/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />]]></find>
				<action type="before-add"><![CDATA[<!-- INCLUDE socialnet/overall_header_hook.html -->]]></action>
			</edit>
			<edit>
				<find><![CDATA[<body id="phpbb" class="section-{SCRIPT_NAME} {S_CONTENT_DIRECTION}">]]></find>
				<inline-edit>
					<inline-find><![CDATA[<body id="phpbb" class="section-{SCRIPT_NAME} {S_CONTENT_DIRECTION}]]></inline-find>
					<inline-action type="after-add"><![CDATA[<!-- IF SN_MODULE_IM_ENABLED --> im-page<!-- ENDIF -->]]></inline-action>
				</inline-edit>
			</edit>
			<edit>
				<find><![CDATA[			<ul class="linklist navlinks">]]></find>
				<action type="after-add"><![CDATA[			  <!-- IF SN_MODULE_MAINPAGE_ENABLED --><li class="icon-mainpage"><a href="{U_SN_MAINPAGE}">{L_SN_MP_MAINPAGE}</a><span id="snNtfNotify"<!-- IF S_SN_USER_UNREAD_NOTIFY eq 0 --> style="display:none"<!-- ENDIF -->>(<a href="{U_VIEW_NOTIFY}"><!-- IF S_SN_USER_UNREAD_NOTIFY neq 0 -->{S_SN_USER_UNREAD_NOTIFY}<!-- ENDIF --></a>)</span></li><!-- ENDIF -->]]></action>
			</edit>
			<edit>
				<find><![CDATA[				<li class="icon-ucp">]]></find>
				<action type="before-add"><![CDATA[        <!-- IF S_USER_LOGGED_IN and not S_IS_BOT and SN_MODULE_PROFILE_ENABLED --><li class="icon-profile"><a href="{U_SN_MY_PROFILE}" title="{L_SN_MYPROFILE}"><strong>{S_USERNAME}</strong></a></li><!-- ENDIF -->]]></action>
			</edit>
		</open>
		<open src="styles/prosilver/theme/stylesheet.css">
			<edit>
				<find><![CDATA[@import url("colours.css");]]></find>
				<action type="after-add"><![CDATA[@import url("socialnet.css");
@import url("jquery.jgrowl.css");
]]></action>
			</edit>
		</open>
		<php-installer><![CDATA[socialnet/update_database.php]]></php-installer>
		<diy-instructions lang="en"><![CDATA[When you copy all new files to your board, do all edits above and run installation via update_database.php, do not forget to clear the cache and refresh your template. Then set up the user permissions.]]></diy-instructions>
	</action-group>
</mod>
